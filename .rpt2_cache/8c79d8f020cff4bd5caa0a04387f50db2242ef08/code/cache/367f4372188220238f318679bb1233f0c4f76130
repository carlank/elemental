{"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/index.ts\"],\"names\":[],\"mappings\":\"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\"}","code":"var grid = Array();\r\nvar width = 15;\r\nvar height = 10;\r\nvar clickPower = 36;\r\nvar speed = 10; // higher is slower\r\nvar canvas = document.getElementById('c');\r\nvar context = canvas.getContext('2d');\r\nfunction prettify(num) {\r\n    return (Math.round(num * 100) / 100);\r\n}\r\nfunction Cell(row, column) {\r\n    this.row = row;\r\n    this.column = column;\r\n}\r\nvar updateGrid = function () {\r\n    // 'Flow' from high to low density\r\n    for (var x = 0; x < width; x++) {\r\n        for (var y = 0; y < height; y++) {\r\n            var variance = Math.random() / speed;\r\n            if (x > 0) {\r\n                if (grid[x - 1][y] * 1.1 < grid[x][y]) {\r\n                    grid[x - 1][y] += variance * (grid[x][y] - grid[x - 1][y]);\r\n                    grid[x][y] -= variance * (grid[x][y] - grid[x - 1][y]);\r\n                    grid[x - 1][y] = prettify(grid[x - 1][y]);\r\n                }\r\n            }\r\n            if (x < 9) {\r\n                if (grid[x + 1][y] * 1.1 < grid[x][y]) {\r\n                    grid[x + 1][y] += variance * (grid[x][y] - grid[x + 1][y]);\r\n                    grid[x][y] -= variance * (grid[x][y] - grid[x + 1][y]);\r\n                    grid[x + 1][y] = prettify(grid[x + 1][y]);\r\n                }\r\n            }\r\n            if (y > 0) {\r\n                if (grid[x][y - 1] * 1.1 < grid[x][y]) {\r\n                    grid[x][y - 1] += variance * (grid[x][y] - grid[x][y - 1]);\r\n                    grid[x][y] -= variance * (grid[x][y] - grid[x][y - 1]);\r\n                    grid[x][y - 1] = prettify(grid[x][y - 1]);\r\n                }\r\n            }\r\n            if (y < 9) {\r\n                if (grid[x][y + 1] * 1.1 < grid[x][y]) {\r\n                    grid[x][y + 1] += variance * (grid[x][y] - grid[x][y + 1]);\r\n                    grid[x][y] -= variance * (grid[x][y] - grid[x][y + 1]);\r\n                    grid[x][y + 1] = prettify(grid[x][y + 1]);\r\n                }\r\n            }\r\n            grid[x][y] = prettify(grid[x][y]);\r\n        }\r\n    }\r\n    // Visual Stuff now\r\n    $('#log').html('');\r\n    for (var a = 0; a < width; a++) {\r\n        for (var b = 0; b < height; b++) {\r\n            var strung = grid[b][a].toString();\r\n            $('#log').append(strung + ' ');\r\n        }\r\n        $('#log').append($('<br/>'));\r\n    }\r\n};\r\nfunction gridOnClick(e) {\r\n    var yo = getCursorPosition(e);\r\n    grid[yo.row][yo.column] += clickPower;\r\n}\r\nfunction getCursorPosition(e) {\r\n    var x;\r\n    var y;\r\n    if (e.pageX !== undefined && e.pageY !== undefined) {\r\n        x = e.pageX;\r\n        y = e.pageY;\r\n    }\r\n    else {\r\n        x = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\r\n        y = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\r\n    }\r\n    x -= canvas.offsetLeft;\r\n    y -= canvas.offsetTop;\r\n    var res = new Cell(Math.floor(x / 20), Math.floor(y / 20));\r\n    return res;\r\n}\r\nvar initCanvas = function () {\r\n    for (var x = 20.5; x < 200; x += 20) {\r\n        context.moveTo(x, 0);\r\n        context.lineTo(x, 200);\r\n    }\r\n    for (var y = 20.5; y < 200; y += 20) {\r\n        context.moveTo(0, y);\r\n        context.lineTo(200, y);\r\n    }\r\n    context.strokeStyle = \"#000\";\r\n    context.stroke();\r\n    canvas.addEventListener(\"click\", gridOnClick, false);\r\n};\r\nfunction fillCell(ce, clr) {\r\n    context.fillStyle = clr;\r\n    context.fillRect(ce.row * 20, ce.column * 20, 20, 20);\r\n}\r\nvar updateCanvas = function () {\r\n    for (var x = 0; x < width; x++) {\r\n        for (var y = 0; y < height; y++) {\r\n            var cur = new Cell(x, y);\r\n            var rounded = Math.round(grid[x][y]);\r\n            var hue = rounded % 360;\r\n            var sat = (50 + Math.floor(rounded / 10)) % 500;\r\n            var lightness = 50;\r\n            console.log(hue + ' ' + sat + ' ' + lightness);\r\n            var clr = 'hsl(' + hue.toString() + ',' + sat.toString() + '%,' + lightness.toString() + '%)';\r\n            fillCell(cur, clr);\r\n        }\r\n    }\r\n};\r\nvar initGrid = function () {\r\n    $('#log').html('');\r\n    for (var a = 0; a < width; a++) {\r\n        grid.push(Array());\r\n        for (var b = 0; b < height; b++) {\r\n            grid[a].push(0);\r\n            $('#log').append(grid[a][b] + ' ');\r\n        }\r\n        $('#log').append($('<br/>'));\r\n    }\r\n};\r\nfunction init() {\r\n    initGrid();\r\n    initCanvas();\r\n}\r\nfunction run() {\r\n    updateGrid();\r\n    updateCanvas();\r\n}\r\ninit();\r\nsetInterval(run, 100);\r\n//# sourceMappingURL=index.js.map"}
